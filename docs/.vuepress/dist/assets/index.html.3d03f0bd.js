import{_ as r,o as a,c as d,a as e,b as i,w as s,d as o,e as t,r as n}from"./app.be80c567.js";const c={},u=o(`<h1 id="vsearcher-api" tabindex="-1"><a class="header-anchor" href="#vsearcher-api" aria-hidden="true">#</a> VSearcher API</h1><p><code>VSearcher</code>\u662Fvsearcher\u5E93\u4E2D\u7684\u6838\u5FC3\u7C7B\uFF0C\u8BE5\u5E93\u7684\u6240\u6709\u529F\u80FD\u5747\u901A\u8FC7\u8BE5\u7C7B\u7684\u7C7B\u65B9\u6CD5\u548C\u9759\u6001\u65B9\u6CD5\u8FDB\u884C\u5B9E\u73B0\u3002</p><h2 id="\u4F7F\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u65B9\u6CD5" aria-hidden="true">#</a> \u4F7F\u7528\u65B9\u6CD5</h2><ul><li>\u5BFC\u5165</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> vsearcher <span class="token keyword">import</span> VSearcher
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u901A\u8FC7\u7C7B\u65B9\u6CD5\u7684\u8C03\u7528\u4F7F\u7528</li></ul><blockquote><p>VSearcher.[\u51FD\u6570\u540D](\u53C2\u6570)</p></blockquote><ul><li>\u4F8B\u5982\uFF1A</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>VSeacher<span class="token punctuation">.</span>executeVideo<span class="token punctuation">(</span><span class="token string">&#39;test.mp4&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5176\u5B83\u65B9\u6CD5\u5982\u4E0B\u6240\u793A\uFF1A</p><hr><h2 id="init" tabindex="-1"><a class="header-anchor" href="#init" aria-hidden="true">#</a> init</h2><p>\u521D\u59CB\u5316\u4E0EVSearcher\u540E\u7EED\u5904\u7406\u76F8\u5173\u7684\u914D\u7F6E</p><ul><li><p>\u53C2\u6570:</p><ul><li><p>domain_url:</p><p>\u5916\u90E8\u8BBF\u95EE\u9759\u6001\u8D44\u6E90\u65F6\u7684URL\u524D\u534A\u90E8\u5206\uFF0C\u4F8B\u5982\uFF1Ahttp://{domain_url}/a/b.mp4<br> \u82E5\u8BBE\u7F6E\uFF1A\u540E\u7EED\u7684\u5904\u7406\u7ED3\u679C\u4E2D\u7684\u8D44\u6E90\u8DEF\u5F84\uFF0C\u5C06\u4E3Aurl\u8DEF\u5F84(http://{domain_url}/a/b.mp4);<br> \u4E0D\u8BBE\u7F6E\uFF1A\u7ED3\u679C\u5C06\u8FD4\u56DE\u672C\u5730\u8DEF\u5F84(a/b.mp4);</p></li><li><p>project_root_dir: \u9ED8\u8BA4\u4E3A__main__\u6587\u4EF6\u6240\u5728\u76EE\u5F55\u7684\u8DEF\u5F84</p></li><li><p>step: \u89C6\u9891\u904D\u5386\u7684\u5E27\u95F4\u9694, \u8D8A\u5927\u901F\u5EA6\u8D8A\u5FEB, \u5F53\u53D6\u503C\u4E3A&#39;fps&#39;\u662F\u4E3A\u89C6\u9891\u7684\u5E27\u7387</p></li><li><p>speed_x: \u5BF9step\u8FDB\u884C\u6574\u6570\u500D\u7684\u52A0\u901F, \u5373 \u6700\u7EC8\u7684step = step * speed_x</p></li><li><p>ocr_model_dir: \u542B\u6709.pdmodel\u6587\u4EF6\u7684\u76EE\u5F55\u76F8\u5BF9\u8DEF\u5F84, \u9ED8\u8BA4\u4E3A: ocrv3\u6A21\u578B</p></li><li><p>static_folder: \u53EF\u4EE5\u5916\u90E8url\u8BBF\u95EE\u7684\u9759\u6001\u6587\u4EF6\u5939\u7684\u76EE\u5F55\u8DEF\u5F84, \u8BE5\u8DEF\u5F84\u662F\u76F8\u5BF9\u4E8E\u9879\u76EE\u7684\u6839\u8DEF\u5F84</p></li><li><p>output_dir: vsearch\u5904\u7406\u7ED3\u679C\u8F93\u51FA\u7684\u4FDD\u5B58\u7684\u76F8\u5BF9\u4E8Estatic_folder\u7684\u8DEF\u5F84, \u5373: \u5B9E\u9645\u7684\u8F93\u51FA\u76EE\u5F55\u4E3A: {static_folder}/{output_dir}</p></li></ul></li><li><p>\u8FD4\u56DE\uFF1ANone</p></li></ul><hr><h2 id="executevideo" tabindex="-1"><a class="header-anchor" href="#executevideo" aria-hidden="true">#</a> executeVideo</h2><p>\u5904\u7406\u89C6\u9891,\u5E76\u8FD4\u56DE\u5904\u7406\u7ED3\u679C</p>`,17),h=e("li",null,[e("p",null,"\u53C2\u6570:"),e("ul",null,[e("li",null,"video_file_path: \u89C6\u9891\u6587\u4EF6\u7684\u672C\u5730\u8DEF\u5F84"),e("li",null,"video_name: \u9ED8\u8BA4\u81EA\u52A8\u4ECE\u8DEF\u5F84\u4E2D\u83B7\u53D6"),e("li",null,"step: \u89C6\u9891\u904D\u5386\u7684\u5E27\u95F4\u9694, \u8D8A\u5927\u901F\u5EA6\u8D8A\u5FEB, \u9ED8\u8BA4\u4E3A\u89C6\u9891\u7684\u5E27\u7387"),e("li",null,"speed_x: \u5BF9step\u8FDB\u884C\u6574\u6570\u500D\u7684\u52A0\u901F, \u5373 \u6700\u7EC8\u7684step = step * speed_x, \u9ED8\u8BA4\u4E3A3"),e("li",null,[t("output_dir: \u5904\u7406\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u7684\u8F93\u51FA\u7ED3\u679C\u5B58\u653E\u7684\u76EE\u5F55, \u82E5\u8BE5\u5904\u4E0D\u6307\u5B9A, \u4E14\u4E5F\u6CA1\u6709\u8FDB\u884C"),e("a",{href:"#init"},"VSearcher.init()"),t("\u7684\u521D\u59CB\u5316, \u5219\u8DEF\u5F84\u4E3A{project_dir}/static/vsearch-output/videos")])])],-1),_=t("\u8FD4\u56DE: "),p=t("vo.VideoVO"),v=e("hr",null,null,-1),b=e("h2",{id:"executechapter",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#executechapter","aria-hidden":"true"},"#"),t(" executeChapter")],-1),m=e("p",null,"\u5904\u7406\u7AE0\u8282,\u5E76\u8FD4\u56DE\u5904\u7406\u7ED3\u679C",-1),x=e("li",null,[t("\u53C2\u6570: "),e("ul",null,[e("li",null,"chapter_dir_path: \u7AE0\u8282\u7684\u6839\u76EE\u5F55, \u5373\u8BE5\u76EE\u5F55\u4E0B\u542B\u6709\u4E00\u4E2A\u6216\u4EE5\u4E0A\u7684\u89C6\u9891"),e("li",null,"chapter_name: \u9ED8\u4ECE\u8DEF\u5F84\u4E2D\u81EA\u52A8\u83B7\u53D6"),e("li",null,"step: \u89C6\u9891\u904D\u5386\u7684\u5E27\u95F4\u9694, \u8D8A\u5927\u901F\u5EA6\u8D8A\u5FEB, \u5F53\u53D6\u503C\u4E3A'fps'\u662F\u4E3A\u89C6\u9891\u7684\u5E27\u7387"),e("li",null,"speed_x: \u5BF9step\u8FDB\u884C\u6574\u6570\u500D\u7684\u52A0\u901F, \u5373 \u6700\u7EC8\u7684step = step * speed_x"),e("li",null,"output_dir: \u5904\u7406\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u7684\u8F93\u51FA\u7ED3\u679C\u5B58\u653E\u7684\u76EE\u5F55, \u82E5\u8BE5\u5904\u4E0D\u6307\u5B9A, \u4E14\u4E5F\u6CA1\u6709\u8FDB\u884CVSearcher.init()\u7684\u521D\u59CB\u5316, \u5219\u8DEF\u5F84\u4E3A{project_dir}/static/vsearch-output/videos")])],-1),f=t("\u8FD4\u56DE\uFF1A"),V=t("vo.ChapterVO"),k=e("hr",null,null,-1),g=e("h2",{id:"executecourse",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#executecourse","aria-hidden":"true"},"#"),t(" executeCourse")],-1),C=e("p",null,"\u5904\u7406\u8BFE\u7A0B,\u5E76\u8FD4\u56DE\u5904\u7406\u7ED3\u679C",-1),O=e("li",null,[t("\u53C2\u6570: "),e("ul",null,[e("li",null,"course_dir_path: \u8BFE\u7A0B\u7684\u6839\u76EE\u5F55, \u5373\u8BE5\u76EE\u5F55\u4E0B\u542B\u6709\u4E00\u4E2A\u6216\u4EE5\u4E0A\u7684\u7AE0\u8282"),e("li",null,"course_name: \u9ED8\u4ECE\u8DEF\u5F84\u4E2D\u81EA\u52A8\u83B7\u53D6"),e("li",null,"step: \u89C6\u9891\u904D\u5386\u7684\u5E27\u95F4\u9694, \u8D8A\u5927\u901F\u5EA6\u8D8A\u5FEB, \u5F53\u53D6\u503C\u4E3A'fps'\u662F\u4E3A\u89C6\u9891\u7684\u5E27\u7387"),e("li",null,"speed_x: \u5BF9step\u8FDB\u884C\u6574\u6570\u500D\u7684\u52A0\u901F, \u5373 \u6700\u7EC8\u7684step = step * speed_x"),e("li",null,"output_dir: \u5904\u7406\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u7684\u8F93\u51FA\u7ED3\u679C\u5B58\u653E\u7684\u76EE\u5F55, \u82E5\u8BE5\u5904\u4E0D\u6307\u5B9A, \u4E14\u4E5F\u6CA1\u6709\u8FDB\u884CVSearcher.init()\u7684\u521D\u59CB\u5316, \u5219\u8DEF\u5F84\u4E3A{project_dir}/static/vsearch-output/videos")])],-1),j=t("\u8FD4\u56DE: "),R=t("vo.CourseVO"),S=e("hr",null,null,-1),y=e("h2",{id:"search",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#search","aria-hidden":"true"},"#"),t(" search")],-1),D=t("\u641C\u7D22\u67D0\u4E2A\u8D44\u6E90\u7684\u5185\u5BB9\uFF0C\u5373\u89C6\u9891\u4E2D\u7684\u5185\u5BB9\uFF0C\u5E76\u8FD4\u56DE"),N=t("vo.ResourceVO"),q=t("\u7684\u5B50\u7C7B\u4F5C\u4E3A\u7ED3\u679C"),w=e("p",null,"\u53C2\u6570:",-1),B=t("o_or_path: "),E=t("vo.ResourceVO"),L=t(", \u5373\u8C03\u7528execute{Chapter | Course | Video}()\u8FD4\u56DE\u7684\u5BF9\u8C61, \u6216\u8005\u5BF9\u8C61\u4E2Do_path\u5C5E\u6027\u5BF9\u5E94\u7684pickle\u5BF9\u8C61\u8DEF\u5F84 key: \u5173\u952E\u5B57"),P=t("\u8FD4\u56DE: vo.{"),A=t("ChapterVO"),I=t(" | "),T=t("CourseVO"),M=t(" | "),U=t("VideoVO"),W=t(" }\u5BF9\u8C61\u4F5C\u4E3A\u7ED3\u679C"),z=o(`<hr><h2 id="setpaddleocrmodeldir" tabindex="-1"><a class="header-anchor" href="#setpaddleocrmodeldir" aria-hidden="true">#</a> setPaddleOcrModelDir</h2><p>\u6307\u5B9A\u4F7F\u7528paddle\u6A21\u578B</p><ul><li>\u53C2\u6570: <ul><li>model_dir: \u6A21\u578B\u7684\u76EE\u5F55\u8DEF\u5F84 <ul><li>\u9ED8\u8BA4\u4F7F\u7528\u7684\u6A21\u578B:<br> \u6587\u672C\u8BC6\u522B: ch_ppocr_mobile_v2.0_rec_infer<br> \u6587\u672C\u68C0\u6D4B: ch_ppocr_mobile_v2.0_det_infer<br> \u53EF\u53C2\u8003\uFF1A<code>https://gitee.com/paddlepaddle/PaddleOCR/blob/release/2.5/doc/doc_ch/models_list.md</code></li></ul></li></ul></li></ul><hr><h2 id="setoutputdir" tabindex="-1"><a class="header-anchor" href="#setoutputdir" aria-hidden="true">#</a> setOutputDir</h2><p>\u8BBE\u7F6E\u8F93\u51FA\u8DEF\u5F84</p><ul><li><p>\u53C2\u6570:</p><ul><li>relative_static_folder_path: \u8BE5\u8DEF\u5F84\u662F\u76F8\u5BF9\u4E8E\u8F93\u51FA\u9879\u76EE\u7684\u76F8\u5BF9\u8DEF\u5F84</li></ul></li><li><p>\u793A\u4F8B:</p></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5047\u8BBE:
    relative_static_folder_path: c/d
    project_dir: a/b
\u6700\u7EC8\u7684\u8F93\u51FA\u8DEF\u5F84: {project_dir}/{relative_static_folder_path}, \u5373 a/b/c/d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="setstaticdir" tabindex="-1"><a class="header-anchor" href="#setstaticdir" aria-hidden="true">#</a> setStaticDir</h2><p>\u8BBE\u7F6E\u9759\u6001\u6587\u4EF6\u5939\u8DEF\u5F84\uFF0C\u82E5\u4F7F\u7528\u7684\u6846\u67B6\u4E3Aflask\uFF0C\u5219\u4E3Aflask\u5E94\u7528\u7684\u9759\u6001\u76EE\u5F55</p><ul><li><p>\u53C2\u6570:</p><ul><li>relative_project_dir_path: \u8BE5\u8DEF\u5F84\u662F\u76F8\u5BF9\u4E8E\u8F93\u51FA\u9879\u76EE\u7684\u76F8\u5BF9\u8DEF\u5F84</li></ul></li><li><p>\u793A\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  \u5047\u8BBE:
      project_dir: E://a/b/project_dir
      relative_project_dir_path: 
  \u90A3\u4E48:
      real static path is {project_dir}/{relative_project_dir_path}
      url_prefix_local_path: {project_dir}/x
  \u5047\u8BBE:
      img_local_path: E://a/b/project_dir/x/ff/ss/c.pn    
  \u90A3\u4E48:
      url: http://localhost:5000/ff/ss/c.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="setstep" tabindex="-1"><a class="header-anchor" href="#setstep" aria-hidden="true">#</a> setStep</h2><p>\u8BBE\u7F6E\u5168\u5C40\u9ED8\u8BA4step</p><ul><li>\u53C2\u6570: <ul><li>step: \u89C6\u9891\u904D\u5386\u7684\u5E27\u95F4\u9694, \u8D8A\u5927\u901F\u5EA6\u8D8A\u5FEB, \u5F53\u53D6\u503C\u4E3A&#39;fps&#39;\u662F\u4E3A\u89C6\u9891\u7684\u5E27\u7387</li><li>speed_x: \u5BF9step\u8FDB\u884C\u6574\u6570\u500D\u7684\u52A0\u901F, \u5373 \u6700\u7EC8\u7684step = step * speed_x</li></ul></li></ul><hr><h2 id="createcoursedir" tabindex="-1"><a class="header-anchor" href="#createcoursedir" aria-hidden="true">#</a> createCourseDir</h2><p>\u521B\u5EFA\u8BFE\u7A0B\u8D44\u6E90\u5BF9\u5E94\u7684\u76EE\u5F55, \u5E76\u8FD4\u56DE\u8DEF\u5F84</p><ul><li>\u53C2\u6570: <ul><li>course_name: \u8BFE\u7A0B\u540D\u79F0</li></ul></li><li>\u8FD4\u56DE: \u65B0\u5EFA\u7684\u76EE\u5F55\u8DEF\u5F84</li></ul><hr><h2 id="createchapterdir" tabindex="-1"><a class="header-anchor" href="#createchapterdir" aria-hidden="true">#</a> createChapterDir</h2><p>\u521B\u5EFA\u7AE0\u8282\u8D44\u6E90\u5BF9\u5E94\u7684\u76EE\u5F55, \u5E76\u8FD4\u56DE\u8DEF\u5F84</p><ul><li>\u53C2\u6570: <ul><li>chapter_name: \u7AE0\u8282\u540D\u79F0</li><li>course_name: \u7AE0\u8282\u6240\u5C5E\u7684\u8BFE\u7A0B\u540D\u79F0</li></ul></li><li>\u8FD4\u56DE: \u65B0\u5EFA\u7684\u76EE\u5F55\u8DEF\u5F84</li></ul><hr><h2 id="loadresource" tabindex="-1"><a class="header-anchor" href="#loadresource" aria-hidden="true">#</a> loadResource</h2>`,27),F=t("\u5C06\u5904\u7406\u8F93\u51FA\u7684pickle\u5BF9\u8C61\u6587\u4EF6, \u8F7D\u5165\u4E3A"),G=t("vo.ResourceVO"),H=t("\u7684\u5B50\u7C7B\u5BF9\u8C61"),J=e("li",null,[e("p",null,"\u53C2\u6570:"),e("ul",null,[e("li",null,"o_or_path: [vo.ResourceVO], \u5373\u8C03\u7528execute{Chapter | Course | Video}()\u8FD4\u56DE\u7684\u5BF9\u8C61, \u6216\u8005\u5BF9\u8C61\u4E2Do_path\u5C5E\u6027\u5BF9\u5E94\u7684pickle\u5BF9\u8C61\u8DEF\u5F84")])],-1),K=t("\u8FD4\u56DE: vo.{"),Q=t("ChapterVO"),X=t(" | "),Y=t("CourseVO"),Z=t(" | "),$=t("VideoVO"),ee=t(" }\u5BF9\u8C61\u4F5C\u4E3A\u7ED3\u679C"),te=e("hr",null,null,-1),le=e("h2",{id:"releaseresource",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#releaseresource","aria-hidden":"true"},"#"),t(" releaseResource")],-1),ie=e("p",null,"\u91CA\u653Eo_path\u5BF9\u5E94\u7684pickle\u5BF9\u8C61\u5BF9\u5E94\u7684\u6240\u6709\u5B58\u50A8\u8D44\u6E90",-1),se=t("\u53C2\u6570: "),oe=t("o_or_path: "),re=t("vo.ResourceVO"),ae=t(", \u5373\u8C03\u7528VSearcher.execute{"),de=e("a",{href:"#executechapter"},"Chapter",-1),ne=t(" | "),ce=e("a",{href:"#executecourse"},"Course",-1),ue=t(" | "),he=e("a",{href:"#executevideo"},"Video",-1),_e=t("}()\u8FD4\u56DE\u7684\u5BF9\u8C61, \u6216\u8005\u5BF9\u8C61\u4E2Do_path\u5C5E\u6027\u5BF9\u5E94\u7684pickle\u5BF9\u8C61\u8DEF\u5F84"),pe=o('<hr><h2 id="releasebyoutputdir" tabindex="-1"><a class="header-anchor" href="#releasebyoutputdir" aria-hidden="true">#</a> <s>releaseByOutputDir</s></h2><blockquote><p>\u8BF7\u4F7F\u7528<a href="#releaseresource">releaseResource</a>\u65B9\u6CD5</p></blockquote><p>\u91CA\u653E\u5904\u7406\u4EA7\u751F\u7684\u8F93\u51FA\u6587\u4EF6, \u5305\u62EC\uFF1A 1. \u6CE8\u91CA\u6587\u4EF6 2.\u89C6\u9891\u6587\u4EF6 3.\u56FE\u7247\u6587\u4EF6 4. \u8BFE\u4EF6 @WAIT\uFF08\u6216\u8BB8\u5B9E\u65F6\u751F\u6210\u6BD4\u8F83\u597D\uFF0C\u5C31\u662Fget\u7684\u65F6\u5019\u8FDB\u884C\u83B7\u53D6\u6587\u4EF6\uFF09</p><ul><li>\u53C2\u6570: <ul><li>output_dir: vo.ResourceVO\u5BF9\u8C61\u7684output_dir\u5C5E\u6027, \u6267\u884Cexecute{Chapter | Course | Video}()\u65B9\u6CD5\u65F6, \u8BBE\u7F6E\u7684output_dir</li></ul></li></ul><hr>',6);function ve(be,me){const l=n("RouterLink");return a(),d("div",null,[u,e("ul",null,[h,e("li",null,[e("p",null,[_,i(l,{to:"/vo/#videovo"},{default:s(()=>[p]),_:1})])])]),v,b,m,e("ul",null,[x,e("li",null,[f,i(l,{to:"/vo/#chaptervo"},{default:s(()=>[V]),_:1})])]),k,g,C,e("ul",null,[O,e("li",null,[j,i(l,{to:"/vo/#coursevo"},{default:s(()=>[R]),_:1})])]),S,y,e("p",null,[D,i(l,{to:"/vo/#resourcevo"},{default:s(()=>[N]),_:1}),q]),e("ul",null,[e("li",null,[w,e("ul",null,[e("li",null,[B,i(l,{to:"/vo/#resourcevo"},{default:s(()=>[E]),_:1}),L])])]),e("li",null,[e("p",null,[P,i(l,{to:"/vo/#chaptervo"},{default:s(()=>[A]),_:1}),I,i(l,{to:"/vo/#coursevo"},{default:s(()=>[T]),_:1}),M,i(l,{to:"/vo/#videovo"},{default:s(()=>[U]),_:1}),W])])]),z,e("p",null,[F,i(l,{to:"/vo/#resourcevo"},{default:s(()=>[G]),_:1}),H]),e("ul",null,[J,e("li",null,[e("p",null,[K,i(l,{to:"/vo/#chaptervo"},{default:s(()=>[Q]),_:1}),X,i(l,{to:"/vo/#coursevo"},{default:s(()=>[Y]),_:1}),Z,i(l,{to:"/vo/#videovo"},{default:s(()=>[$]),_:1}),ee])])]),te,le,ie,e("ul",null,[e("li",null,[se,e("ul",null,[e("li",null,[oe,i(l,{to:"/vo/#resourcevo"},{default:s(()=>[re]),_:1}),ae,de,ne,ce,ue,he,_e])])])]),pe])}var fe=r(c,[["render",ve],["__file","index.html.vue"]]);export{fe as default};
